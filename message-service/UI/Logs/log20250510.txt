2025-05-10 21:34:59.164 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 21:34:59.264 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 21:34:59.265 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 21:34:59.339 +03:00 [DBG] Hosting starting
2025-05-10 21:34:59.365 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:34:59.403 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 21:34:59.452 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 21:34:59.469 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 21:34:59.471 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:34:59.476 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 21:34:59.478 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:34:59.487 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 21:34:59.489 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 21:34:59.490 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 21:34:59.491 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 21:34:59.756 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 21:34:59.757 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:34:59.757 +03:00 [INF] Hosting environment: Development
2025-05-10 21:34:59.757 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 21:34:59.757 +03:00 [DBG] Hosting started
2025-05-10 21:34:59.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/swagger/index.html - null null
2025-05-10 21:34:59.802 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-10 21:34:59.850 +03:00 [DBG] 1 candidate(s) found for the request path '/swagger/index.html'
2025-05-10 21:34:59.859 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' was rejected by constraint 'unimplementedMethod':'Grpc.AspNetCore.Server.Model.Internal.GrpcUnimplementedConstraint' with value 'index.html' for the request path '/swagger/index.html'
2025-05-10 21:34:59.865 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' is not valid for the request path '/swagger/index.html'
2025-05-10 21:34:59.865 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:35:00.087 +03:00 [DBG] Connection ID "18230571331055779843" disconnecting.
2025-05-10 21:35:00.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/swagger/index.html - 200 null text/html;charset=utf-8 294.1187ms
2025-05-10 21:35:00.290 +03:00 [DBG] Connection ID "18230571331055779845" disconnecting.
2025-05-10 21:35:00.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/swagger/favicon-32x32.png - null null
2025-05-10 21:35:00.292 +03:00 [DBG] 1 candidate(s) found for the request path '/swagger/favicon-32x32.png'
2025-05-10 21:35:00.293 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' was rejected by constraint 'unimplementedMethod':'Grpc.AspNetCore.Server.Model.Internal.GrpcUnimplementedConstraint' with value 'favicon-32x32.png' for the request path '/swagger/favicon-32x32.png'
2025-05-10 21:35:00.293 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' is not valid for the request path '/swagger/favicon-32x32.png'
2025-05-10 21:35:00.293 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:35:00.306 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2025-05-10 21:35:00.321 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-10 21:35:00.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/swagger/favicon-32x32.png - 499 628 image/png 30.9712ms
2025-05-10 21:35:00.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/swagger/v1/swagger.json - null null
2025-05-10 21:35:00.390 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-10 21:35:00.390 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:35:00.397 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-05-10 21:35:00.563 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.8847ms
2025-05-10 21:35:00.563 +03:00 [DBG] Connection ID "18230571331055779847" disconnecting.
2025-05-10 21:37:10.321 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:42447/ - null null
2025-05-10 21:37:10.321 +03:00 [DBG] No candidates found for the request path '/'
2025-05-10 21:37:10.321 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:37:10.322 +03:00 [DBG] The request path  does not match the path filter
2025-05-10 21:37:10.332 +03:00 [DBG] Https port '44326' discovered from server endpoints.
2025-05-10 21:37:10.336 +03:00 [DBG] Redirecting to 'https://localhost:44326/'.
2025-05-10 21:37:10.337 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:42447/ - 307 null null 16.4343ms
2025-05-10 21:37:10.393 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/ - null null
2025-05-10 21:37:10.394 +03:00 [DBG] No candidates found for the request path '/'
2025-05-10 21:37:10.394 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:37:10.394 +03:00 [DBG] The request path  does not match the path filter
2025-05-10 21:37:10.438 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 21:37:10.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/ - 404 null null 46.8307ms
2025-05-10 21:37:10.440 +03:00 [DBG] Connection ID "18230571296696041483" disconnecting.
2025-05-10 21:37:10.443 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44326/, Response status code: 404
2025-05-10 21:37:10.581 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/favicon.ico - null null
2025-05-10 21:37:10.582 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-05-10 21:37:10.582 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:37:10.582 +03:00 [DBG] The request path  does not match the path filter
2025-05-10 21:37:10.583 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 21:37:10.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/favicon.ico - 404 null null 2.075ms
2025-05-10 21:37:10.584 +03:00 [DBG] Connection ID "18158513715543015437" disconnecting.
2025-05-10 21:37:10.584 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44326/favicon.ico, Response status code: 404
2025-05-10 21:37:32.993 +03:00 [INF] Application is shutting down...
2025-05-10 21:37:32.994 +03:00 [DBG] Hosting stopping
2025-05-10 21:37:32.996 +03:00 [DBG] Hosting stopped
2025-05-10 21:37:55.283 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 21:37:55.334 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 21:37:55.335 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 21:37:55.374 +03:00 [DBG] Hosting starting
2025-05-10 21:37:55.391 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:37:55.418 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 21:37:55.429 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 21:37:55.441 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 21:37:55.444 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:37:55.448 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 21:37:55.449 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:37:55.455 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 21:37:55.458 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 21:37:55.459 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 21:37:55.461 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 21:37:55.648 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 21:37:55.649 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:37:55.649 +03:00 [INF] Hosting environment: Development
2025-05-10 21:37:55.649 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 21:37:55.649 +03:00 [DBG] Hosting started
2025-05-10 21:37:55.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/swagger/index.html - null null
2025-05-10 21:37:55.677 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-10 21:37:55.707 +03:00 [DBG] 1 candidate(s) found for the request path '/swagger/index.html'
2025-05-10 21:37:55.715 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' was rejected by constraint 'unimplementedMethod':'Grpc.AspNetCore.Server.Model.Internal.GrpcUnimplementedConstraint' with value 'index.html' for the request path '/swagger/index.html'
2025-05-10 21:37:55.720 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' is not valid for the request path '/swagger/index.html'
2025-05-10 21:37:55.720 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:37:55.900 +03:00 [DBG] Connection ID "18230571331055779849" disconnecting.
2025-05-10 21:37:55.903 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/swagger/index.html - 200 null text/html;charset=utf-8 230.7801ms
2025-05-10 21:37:56.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/swagger/v1/swagger.json - null null
2025-05-10 21:37:56.126 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-10 21:37:56.126 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:37:56.134 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-05-10 21:37:56.297 +03:00 [DBG] Connection ID "18302628929388675077" disconnecting.
2025-05-10 21:37:56.297 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.8576ms
2025-05-10 21:39:13.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/swagger/v1/swagger.json - null null
2025-05-10 21:39:13.809 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-10 21:39:13.809 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:39:13.818 +03:00 [DBG] Connection ID "18302628929388675079" disconnecting.
2025-05-10 21:39:13.818 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.7291ms
2025-05-10 21:39:14.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/favicon.ico - null null
2025-05-10 21:39:14.005 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-05-10 21:39:14.005 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:39:14.007 +03:00 [DBG] The request path  does not match the path filter
2025-05-10 21:39:14.055 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 21:39:14.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/favicon.ico - 404 null null 53.5539ms
2025-05-10 21:39:14.058 +03:00 [DBG] Connection ID "18302628925093707781" disconnecting.
2025-05-10 21:39:14.062 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44326/favicon.ico, Response status code: 404
2025-05-10 21:43:50.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44326/ - null null
2025-05-10 21:43:50.643 +03:00 [DBG] No candidates found for the request path '/'
2025-05-10 21:43:50.644 +03:00 [DBG] Request did not match any endpoints
2025-05-10 21:43:50.644 +03:00 [DBG] The request path  does not match the path filter
2025-05-10 21:43:50.648 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 21:43:50.649 +03:00 [DBG] Connection ID "18230571331055779852" disconnecting.
2025-05-10 21:43:50.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44326/ - 404 null null 6.5047ms
2025-05-10 21:43:50.650 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44326/, Response status code: 404
2025-05-10 21:46:28.412 +03:00 [INF] Application is shutting down...
2025-05-10 21:46:28.413 +03:00 [DBG] Hosting stopping
2025-05-10 21:46:28.414 +03:00 [DBG] Hosting stopped
2025-05-10 21:46:36.359 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 21:46:36.412 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 21:46:36.413 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 21:46:36.451 +03:00 [DBG] Hosting starting
2025-05-10 21:46:36.469 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:46:36.486 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 21:46:36.498 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 21:46:36.508 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 21:46:36.511 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:46:36.516 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 21:46:36.517 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:46:36.528 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 21:46:36.531 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 21:46:36.535 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 21:46:36.538 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 21:46:36.776 +03:00 [INF] Now listening on: https://localhost:5001
2025-05-10 21:46:36.778 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-10 21:46:36.779 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 21:46:36.780 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:46:36.781 +03:00 [INF] Hosting environment: Development
2025-05-10 21:46:36.782 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 21:46:36.782 +03:00 [DBG] Hosting started
2025-05-10 21:46:58.243 +03:00 [DBG] Connection id "0HNCFUC5HG595" accepted.
2025-05-10 21:46:58.245 +03:00 [DBG] Connection id "0HNCFUC5HG595" started.
2025-05-10 21:46:58.262 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:46:58.285 +03:00 [DBG] Connection id "0HNCFUC5HG595" stopped.
2025-05-10 21:46:58.291 +03:00 [DBG] Connection id "0HNCFUC5HG595" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:46:59.294 +03:00 [DBG] Connection id "0HNCFUC5HG596" accepted.
2025-05-10 21:46:59.295 +03:00 [DBG] Connection id "0HNCFUC5HG596" started.
2025-05-10 21:46:59.298 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:46:59.304 +03:00 [DBG] Connection id "0HNCFUC5HG596" stopped.
2025-05-10 21:46:59.305 +03:00 [DBG] Connection id "0HNCFUC5HG596" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:01.056 +03:00 [DBG] Connection id "0HNCFUC5HG597" accepted.
2025-05-10 21:47:01.058 +03:00 [DBG] Connection id "0HNCFUC5HG597" started.
2025-05-10 21:47:01.060 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:47:01.065 +03:00 [DBG] Connection id "0HNCFUC5HG597" stopped.
2025-05-10 21:47:01.067 +03:00 [DBG] Connection id "0HNCFUC5HG597" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:03.506 +03:00 [DBG] Connection id "0HNCFUC5HG598" accepted.
2025-05-10 21:47:03.507 +03:00 [DBG] Connection id "0HNCFUC5HG598" started.
2025-05-10 21:47:03.508 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:47:03.512 +03:00 [DBG] Connection id "0HNCFUC5HG598" stopped.
2025-05-10 21:47:03.513 +03:00 [DBG] Connection id "0HNCFUC5HG598" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:07.197 +03:00 [DBG] Connection id "0HNCFUC5HG599" accepted.
2025-05-10 21:47:07.198 +03:00 [DBG] Connection id "0HNCFUC5HG599" started.
2025-05-10 21:47:07.200 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:47:07.204 +03:00 [DBG] Connection id "0HNCFUC5HG599" stopped.
2025-05-10 21:47:07.205 +03:00 [DBG] Connection id "0HNCFUC5HG599" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:13.929 +03:00 [DBG] Connection id "0HNCFUC5HG59A" accepted.
2025-05-10 21:47:13.930 +03:00 [DBG] Connection id "0HNCFUC5HG59A" started.
2025-05-10 21:47:13.931 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:47:13.934 +03:00 [DBG] Connection id "0HNCFUC5HG59A" stopped.
2025-05-10 21:47:13.935 +03:00 [DBG] Connection id "0HNCFUC5HG59A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:23.359 +03:00 [DBG] Connection id "0HNCFUC5HG59B" accepted.
2025-05-10 21:47:23.359 +03:00 [DBG] Connection id "0HNCFUC5HG59B" started.
2025-05-10 21:47:23.361 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:47:23.363 +03:00 [DBG] Connection id "0HNCFUC5HG59B" stopped.
2025-05-10 21:47:23.365 +03:00 [DBG] Connection id "0HNCFUC5HG59B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:40.350 +03:00 [DBG] Connection id "0HNCFUC5HG59C" accepted.
2025-05-10 21:47:40.351 +03:00 [DBG] Connection id "0HNCFUC5HG59C" started.
2025-05-10 21:47:40.353 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-05-10 21:47:40.355 +03:00 [DBG] Connection id "0HNCFUC5HG59C" stopped.
2025-05-10 21:47:40.356 +03:00 [DBG] Connection id "0HNCFUC5HG59C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 21:47:42.103 +03:00 [INF] Application is shutting down...
2025-05-10 21:47:42.104 +03:00 [DBG] Hosting stopping
2025-05-10 21:47:42.113 +03:00 [DBG] Hosting stopped
2025-05-10 21:53:13.410 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 21:53:13.464 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 21:53:13.466 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 21:53:13.504 +03:00 [DBG] Hosting starting
2025-05-10 21:53:13.524 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:53:13.542 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 21:53:13.553 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 21:53:13.565 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 21:53:13.568 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:53:13.573 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 21:53:13.575 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:53:13.582 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 21:53:13.587 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 21:53:13.589 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 21:53:13.592 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 21:53:13.803 +03:00 [WRN] Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-10 21:53:13.814 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-10 21:53:13.816 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 21:53:13.818 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:53:13.819 +03:00 [INF] Hosting environment: Development
2025-05-10 21:53:13.821 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 21:53:13.822 +03:00 [DBG] Hosting started
2025-05-10 21:54:54.354 +03:00 [DBG] Config reload token fired. Checking for changes...
2025-05-10 21:54:54.356 +03:00 [INF] Config changed. Starting the following endpoints: 'http://localhost:5000'
2025-05-10 21:54:54.363 +03:00 [FTL] Unable to bind to 'http://localhost:5000' on config reload.
System.IO.IOException: Failed to bind to address http://127.0.0.1:5000: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.RebindAsync()
2025-05-10 21:54:56.427 +03:00 [INF] Application is shutting down...
2025-05-10 21:54:56.429 +03:00 [DBG] Hosting stopping
2025-05-10 21:54:56.440 +03:00 [DBG] Hosting stopped
2025-05-10 21:59:03.223 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 21:59:03.275 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 21:59:03.276 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 21:59:03.307 +03:00 [DBG] Hosting starting
2025-05-10 21:59:03.325 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 21:59:03.342 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 21:59:03.352 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 21:59:03.362 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 21:59:03.364 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:59:03.368 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 21:59:03.369 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 21:59:03.375 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 21:59:03.378 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 21:59:03.380 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 21:59:03.381 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 21:59:03.586 +03:00 [WRN] Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-05-10 21:59:03.593 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-10 21:59:03.594 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 21:59:03.595 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 21:59:03.596 +03:00 [INF] Hosting environment: Development
2025-05-10 21:59:03.597 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 21:59:03.598 +03:00 [DBG] Hosting started
2025-05-10 21:59:11.868 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" accepted.
2025-05-10 21:59:11.870 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" started.
2025-05-10 21:59:14.856 +03:00 [INF] Request starting HTTP/2 POST http://localhost:5000/messenger.Messenger/SendMessage - application/grpc null
2025-05-10 21:59:14.860 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-10 21:59:14.890 +03:00 [DBG] 3 candidate(s) found for the request path '/messenger.Messenger/SendMessage'
2025-05-10 21:59:14.896 +03:00 [DBG] Endpoint 'gRPC - /messenger.Messenger/SendMessage' with route pattern '/messenger.Messenger/SendMessage' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 21:59:14.899 +03:00 [DBG] Endpoint 'gRPC - Unimplemented method for messenger.Messenger' with route pattern 'messenger.Messenger/{unimplementedMethod:grpcunimplemented}' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 21:59:14.902 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 21:59:14.905 +03:00 [DBG] Request matched endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 21:59:14.927 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-10 21:59:14.956 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 21:59:14.962 +03:00 [INF] Executing endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 21:59:14.974 +03:00 [DBG] Reading message.
2025-05-10 21:59:14.977 +03:00 [DBG] Connection id "0HNCFUJ05SMOO", Request id "0HNCFUJ05SMOO:00000001": started reading request body.
2025-05-10 21:59:14.978 +03:00 [DBG] Connection id "0HNCFUJ05SMOO", Request id "0HNCFUJ05SMOO:00000001": done reading request body.
2025-05-10 21:59:15.158 +03:00 [INF] (gRPC) Starting to create message by user 12345678-aaaa-bbbb-cccc-1234567890ac.
2025-05-10 21:59:16.786 +03:00 [INF] (gRPC) Message Application.Common.Result`1[System.Guid] created by 12345678-aaaa-bbbb-cccc-1234567890ac.
2025-05-10 21:59:16.794 +03:00 [DBG] Sending message.
2025-05-10 21:59:16.814 +03:00 [INF] Executed endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 21:59:16.823 +03:00 [INF] Request finished HTTP/2 POST http://localhost:5000/messenger.Messenger/SendMessage - 200 null application/grpc 1968.2439ms
2025-05-10 22:00:38.967 +03:00 [INF] Application is shutting down...
2025-05-10 22:00:38.970 +03:00 [DBG] Hosting stopping
2025-05-10 22:00:38.981 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" is closing.
2025-05-10 22:00:38.988 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" is closed. The last processed stream ID was 1.
2025-05-10 22:00:38.990 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" received FIN.
2025-05-10 22:00:38.991 +03:00 [DBG] The connection queue processing loop for 0HNCFUJ05SMOO completed.
2025-05-10 22:00:38.992 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:00:39.009 +03:00 [DBG] Connection id "0HNCFUJ05SMOO" stopped.
2025-05-10 22:00:39.015 +03:00 [DBG] Hosting stopped
2025-05-10 22:00:44.163 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 22:00:44.218 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 22:00:44.220 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 22:00:44.250 +03:00 [DBG] Hosting starting
2025-05-10 22:00:44.270 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:00:44.289 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 22:00:44.302 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 22:00:44.314 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 22:00:44.317 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 22:00:44.321 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 22:00:44.323 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 22:00:44.332 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 22:00:44.335 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 22:00:44.337 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 22:00:44.339 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 22:00:44.540 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-10 22:00:44.541 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 22:00:44.543 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:00:44.544 +03:00 [INF] Hosting environment: Development
2025-05-10 22:00:44.545 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 22:00:44.546 +03:00 [DBG] Hosting started
2025-05-10 22:00:55.357 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" accepted.
2025-05-10 22:00:55.359 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" started.
2025-05-10 22:00:55.413 +03:00 [INF] Request starting HTTP/2 POST http://localhost:5000/messenger.Messenger/SendMessage - application/grpc null
2025-05-10 22:00:55.419 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-10 22:00:55.453 +03:00 [DBG] 3 candidate(s) found for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:00:55.459 +03:00 [DBG] Endpoint 'gRPC - /messenger.Messenger/SendMessage' with route pattern '/messenger.Messenger/SendMessage' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:00:55.462 +03:00 [DBG] Endpoint 'gRPC - Unimplemented method for messenger.Messenger' with route pattern 'messenger.Messenger/{unimplementedMethod:grpcunimplemented}' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:00:55.464 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:00:55.468 +03:00 [DBG] Request matched endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 22:00:55.493 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-10 22:00:55.527 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 22:00:55.532 +03:00 [INF] Executing endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 22:00:55.542 +03:00 [DBG] Reading message.
2025-05-10 22:00:55.545 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ", Request id "0HNCFUJV0QTBJ:00000001": started reading request body.
2025-05-10 22:00:55.547 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ", Request id "0HNCFUJV0QTBJ:00000001": done reading request body.
2025-05-10 22:00:55.709 +03:00 [INF] (gRPC) Starting to create message by user 12345678-aaaa-bbbb-cccc-1234567890ac.
2025-05-10 22:00:56.893 +03:00 [INF] (gRPC) Message "4b0ab7cd-a889-4f4f-be2e-f745a89d7e71" created by 12345678-aaaa-bbbb-cccc-1234567890ac.
2025-05-10 22:00:56.902 +03:00 [DBG] Sending message.
2025-05-10 22:00:56.918 +03:00 [INF] Executed endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 22:00:56.927 +03:00 [INF] Request finished HTTP/2 POST http://localhost:5000/messenger.Messenger/SendMessage - 200 null application/grpc 1516.1704ms
2025-05-10 22:01:14.368 +03:00 [INF] Request starting HTTP/2 POST http://localhost:5000/messenger.Messenger/SendMessage - application/grpc null
2025-05-10 22:01:14.372 +03:00 [DBG] 3 candidate(s) found for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:01:14.373 +03:00 [DBG] Endpoint 'gRPC - /messenger.Messenger/SendMessage' with route pattern '/messenger.Messenger/SendMessage' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:01:14.375 +03:00 [DBG] Endpoint 'gRPC - Unimplemented method for messenger.Messenger' with route pattern 'messenger.Messenger/{unimplementedMethod:grpcunimplemented}' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:01:14.376 +03:00 [DBG] Endpoint 'gRPC - Unimplemented service' with route pattern '{unimplementedService}/{unimplementedMethod:grpcunimplemented}' is valid for the request path '/messenger.Messenger/SendMessage'
2025-05-10 22:01:14.377 +03:00 [DBG] Request matched endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 22:01:14.380 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-10 22:01:14.382 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-10 22:01:14.383 +03:00 [INF] Executing endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 22:01:14.384 +03:00 [DBG] Reading message.
2025-05-10 22:01:14.385 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ", Request id "0HNCFUJV0QTBJ:00000003": started reading request body.
2025-05-10 22:01:14.386 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ", Request id "0HNCFUJV0QTBJ:00000003": done reading request body.
2025-05-10 22:01:14.388 +03:00 [INF] (gRPC) Starting to create message by user 12345678-aaaa-bbbb-cccc-1234567890ab.
2025-05-10 22:01:14.419 +03:00 [INF] (gRPC) Message "cceb4eca-b5c1-4dc1-b501-36a3175787f9" created by 12345678-aaaa-bbbb-cccc-1234567890ab.
2025-05-10 22:01:14.420 +03:00 [DBG] Sending message.
2025-05-10 22:01:14.421 +03:00 [INF] Executed endpoint 'gRPC - /messenger.Messenger/SendMessage'
2025-05-10 22:01:14.422 +03:00 [INF] Request finished HTTP/2 POST http://localhost:5000/messenger.Messenger/SendMessage - 200 null application/grpc 54.4701ms
2025-05-10 22:02:04.049 +03:00 [INF] Application is shutting down...
2025-05-10 22:02:04.050 +03:00 [DBG] Hosting stopping
2025-05-10 22:02:04.060 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" is closing.
2025-05-10 22:02:04.065 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" is closed. The last processed stream ID was 3.
2025-05-10 22:02:04.067 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" received FIN.
2025-05-10 22:02:04.068 +03:00 [DBG] The connection queue processing loop for 0HNCFUJV0QTBJ completed.
2025-05-10 22:02:04.069 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:02:04.073 +03:00 [DBG] Connection id "0HNCFUJV0QTBJ" stopped.
2025-05-10 22:02:04.079 +03:00 [DBG] Hosting stopped
2025-05-10 22:25:26.490 +03:00 [DBG] Found validator GetMessagesQueryValidator
2025-05-10 22:25:26.536 +03:00 [DBG] Found validator CreateMessageCommandValidator
2025-05-10 22:25:26.537 +03:00 [DBG] Found module UI.Endpoints.MessageEndpoints
2025-05-10 22:25:26.569 +03:00 [DBG] Hosting starting
2025-05-10 22:25:26.590 +03:00 [INF] User profile is available. Using 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-10 22:25:26.608 +03:00 [DBG] Reading data from file 'C:\Users\User\AppData\Local\ASP.NET\DataProtection-Keys\key-481ef570-6c2e-4a6e-9762-cce7f7c8e8f9.xml'.
2025-05-10 22:25:26.618 +03:00 [DBG] Found key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9}.
2025-05-10 22:25:26.633 +03:00 [DBG] Considering key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} with expiration date 2025-06-12 18:14:50Z as default key.
2025-05-10 22:25:26.637 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 22:25:26.644 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-10 22:25:26.648 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-10 22:25:26.658 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-10 22:25:26.662 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-10 22:25:26.665 +03:00 [DBG] Using key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} as the default key.
2025-05-10 22:25:26.668 +03:00 [DBG] Key ring with default key {481ef570-6c2e-4a6e-9762-cce7f7c8e8f9} was loaded during application startup.
2025-05-10 22:25:26.988 +03:00 [INF] Now listening on: http://localhost:5000
2025-05-10 22:25:26.996 +03:00 [DBG] Loaded hosting startup assembly UI
2025-05-10 22:25:26.999 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-10 22:25:26.999 +03:00 [INF] Hosting environment: Development
2025-05-10 22:25:27.000 +03:00 [INF] Content root path: C:\Users\User\RiderProjects\MessageService\UI
2025-05-10 22:25:27.001 +03:00 [DBG] Hosting started
2025-05-10 22:25:33.478 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" accepted.
2025-05-10 22:25:33.480 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" started.
2025-05-10 22:27:45.202 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" is closing.
2025-05-10 22:27:45.207 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" is closed. The last processed stream ID was 0.
2025-05-10 22:27:45.210 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" received FIN.
2025-05-10 22:27:45.212 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:27:45.213 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QBT completed.
2025-05-10 22:27:45.217 +03:00 [DBG] Connection id "0HNCFV1NH9QBT" stopped.
2025-05-10 22:28:10.370 +03:00 [DBG] Connection id "0HNCFV1NH9QBU" accepted.
2025-05-10 22:28:10.371 +03:00 [DBG] Connection id "0HNCFV1NH9QBU" started.
2025-05-10 22:28:10.450 +03:00 [DBG] Connection id "0HNCFV1NH9QBU": Invalid content received on connection. Possible incorrect HTTP version detected. Expected HTTP/2 but received HTTP/1.1.
2025-05-10 22:28:10.456 +03:00 [DBG] Connection id "0HNCFV1NH9QBU" is closed. The last processed stream ID was 0.
2025-05-10 22:28:10.456 +03:00 [DBG] Connection id "0HNCFV1NH9QBU" received FIN.
2025-05-10 22:28:10.458 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QBU completed.
2025-05-10 22:28:10.459 +03:00 [DBG] Connection id "0HNCFV1NH9QBU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:28:10.465 +03:00 [DBG] Connection id "0HNCFV1NH9QBU" stopped.
2025-05-10 22:28:10.528 +03:00 [DBG] Connection id "0HNCFV1NH9QBV" accepted.
2025-05-10 22:28:10.531 +03:00 [DBG] Connection id "0HNCFV1NH9QBV" started.
2025-05-10 22:28:10.534 +03:00 [DBG] Connection id "0HNCFV1NH9QBV": Invalid content received on connection. Possible incorrect HTTP version detected. Expected HTTP/2 but received HTTP/1.1.
2025-05-10 22:28:10.536 +03:00 [DBG] Connection id "0HNCFV1NH9QBV" is closed. The last processed stream ID was 0.
2025-05-10 22:28:10.536 +03:00 [DBG] Connection id "0HNCFV1NH9QBV" received FIN.
2025-05-10 22:28:10.537 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QBV completed.
2025-05-10 22:28:10.538 +03:00 [DBG] Connection id "0HNCFV1NH9QBV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:28:10.543 +03:00 [DBG] Connection id "0HNCFV1NH9QBV" stopped.
2025-05-10 22:28:14.435 +03:00 [DBG] Connection id "0HNCFV1NH9QC0" accepted.
2025-05-10 22:28:14.436 +03:00 [DBG] Connection id "0HNCFV1NH9QC0" started.
2025-05-10 22:28:14.441 +03:00 [DBG] Connection id "0HNCFV1NH9QC0": Invalid content received on connection. Possible incorrect HTTP version detected. Expected HTTP/2 but received HTTP/1.1.
2025-05-10 22:28:14.443 +03:00 [DBG] Connection id "0HNCFV1NH9QC0" is closed. The last processed stream ID was 0.
2025-05-10 22:28:14.443 +03:00 [DBG] Connection id "0HNCFV1NH9QC0" received FIN.
2025-05-10 22:28:14.444 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QC0 completed.
2025-05-10 22:28:14.446 +03:00 [DBG] Connection id "0HNCFV1NH9QC0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:28:14.457 +03:00 [DBG] Connection id "0HNCFV1NH9QC0" stopped.
2025-05-10 22:28:31.848 +03:00 [DBG] Connection id "0HNCFV1NH9QC1" accepted.
2025-05-10 22:28:31.849 +03:00 [DBG] Connection id "0HNCFV1NH9QC1" started.
2025-05-10 22:28:31.854 +03:00 [DBG] Connection id "0HNCFV1NH9QC1": Invalid content received on connection. Possible incorrect HTTP version detected. Expected HTTP/2 but received HTTP/1.1.
2025-05-10 22:28:31.856 +03:00 [DBG] Connection id "0HNCFV1NH9QC1" is closed. The last processed stream ID was 0.
2025-05-10 22:28:31.856 +03:00 [DBG] Connection id "0HNCFV1NH9QC1" received FIN.
2025-05-10 22:28:31.857 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QC1 completed.
2025-05-10 22:28:31.858 +03:00 [DBG] Connection id "0HNCFV1NH9QC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:28:31.865 +03:00 [DBG] Connection id "0HNCFV1NH9QC1" stopped.
2025-05-10 22:28:35.024 +03:00 [DBG] Connection id "0HNCFV1NH9QC2" accepted.
2025-05-10 22:28:35.025 +03:00 [DBG] Connection id "0HNCFV1NH9QC2" started.
2025-05-10 22:28:35.029 +03:00 [DBG] Connection id "0HNCFV1NH9QC2": Invalid content received on connection. Possible incorrect HTTP version detected. Expected HTTP/2 but received HTTP/1.1.
2025-05-10 22:28:35.030 +03:00 [DBG] Connection id "0HNCFV1NH9QC2" is closed. The last processed stream ID was 0.
2025-05-10 22:28:35.031 +03:00 [DBG] Connection id "0HNCFV1NH9QC2" received FIN.
2025-05-10 22:28:35.032 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QC2 completed.
2025-05-10 22:28:35.033 +03:00 [DBG] Connection id "0HNCFV1NH9QC2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:28:35.043 +03:00 [DBG] Connection id "0HNCFV1NH9QC2" stopped.
2025-05-10 22:28:38.189 +03:00 [DBG] Connection id "0HNCFV1NH9QC3" accepted.
2025-05-10 22:28:38.190 +03:00 [DBG] Connection id "0HNCFV1NH9QC3" started.
2025-05-10 22:28:38.194 +03:00 [DBG] Connection id "0HNCFV1NH9QC3": Invalid content received on connection. Possible incorrect HTTP version detected. Expected HTTP/2 but received HTTP/1.1.
2025-05-10 22:28:38.196 +03:00 [DBG] Connection id "0HNCFV1NH9QC3" is closed. The last processed stream ID was 0.
2025-05-10 22:28:38.196 +03:00 [DBG] Connection id "0HNCFV1NH9QC3" received FIN.
2025-05-10 22:28:38.198 +03:00 [DBG] Connection id "0HNCFV1NH9QC3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-10 22:28:38.197 +03:00 [DBG] The connection queue processing loop for 0HNCFV1NH9QC3 completed.
2025-05-10 22:28:38.202 +03:00 [DBG] Connection id "0HNCFV1NH9QC3" stopped.
2025-05-10 22:30:34.126 +03:00 [INF] Application is shutting down...
2025-05-10 22:30:34.128 +03:00 [DBG] Hosting stopping
2025-05-10 22:30:34.143 +03:00 [DBG] Hosting stopped
